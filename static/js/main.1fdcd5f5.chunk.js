(this["webpackJsonpmusic-theory-app"]=this["webpackJsonpmusic-theory-app"]||[]).push([[0],[,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"2":{"7":{"value":"sus2"}},"3":{"6":{"9":{"value":"dim7"},"10":{"value":"m7b5"},"value":"dim"},"7":{"10":{"value":"m7"},"11":{"value":"minMaj7"},"value":"m"}},"4":{"7":{"10":{"value":"7"},"11":{"value":"Maj7"},"value":""},"8":{"11":{"value":"augMaj7"},"12":{"value":"aug7"},"value":"aug"}},"5":{"7":{"value":"sus4"}},"7":{"12":{"value":"5"},"value":"5"}}')},function(e){e.exports=JSON.parse('{"seventh":{"1":"(b9)","2":"(9)","3":"(#9)","13":"(b9)","14":"(9)","15":"(#9)"},"triad":{"1":"(add b9)","2":"(add 9)","3":"(add #9)","13":"(add b9)","14":"(add 9)","15":"(add #9)"}}')},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(9),i=n.n(s),c=(n(19),n.p,n(2));function o(e){var t=e.path,n=e.children,a=Object(r.useState)(window.location.pathname),s=Object(c.a)(a,2),i=s[0],o=s[1],u="string"===typeof t?[t]:t;Object(r.useEffect)((function(){var e=function(){o(window.location.pathname)};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);return function(e){var t=!1;return e.forEach((function(e){var n="^";n+=e.replace("/*","[/a-zA-Z0-9-]*").replace("/:id","/[a-zA-Z0-9-]*"),n+="$",new RegExp(n).test(i)&&(t=!0)})),t}(u)?n:null}function u(e){return e.children}var l=n(4),d=n.n(l),h=n(7),j=n(14),f=[{name:"Major",intervals:[2,2,1,2,2,2,1],modes:["Major/Ionian","Dorian","Phrygian","Lydian","Mixolydian","Natural Minor/Aeolian","Locrian"]},{name:"Melodic Minor",intervals:[2,1,2,2,2,2,1],modes:["Melodic Minor","Dorian b2","Lydian Aug.","Lydian dom.","Aeo. dom.","Half diminished","Alt."]},{name:"Harmonic Minor",intervals:[2,1,2,2,1,3,1],modes:["Harmonic Minor","Locrian nat. 6","Major #5","Doroam #4","Phrygian dom.","Lydian #2","Alt. dom. bb7"]},{name:"Harmonic Major",intervals:[2,2,1,2,1,3,1],modes:["Harmonic Major","Dorian b5","Phrygian b4","Lydian b3","Mixo. b2","Lydian Augmented #2","Locrian bb7"]},{name:"Diminished",intervals:[2,1,2,1,2,1,2,1],modes:["Diminished","Inverted Diminished"]},{name:"Whole Tone",intervals:[2,2,2,2,2,2],modes:["Whole Tone"]},{name:"Augmented",intervals:[3,1,3,1,3,1],modes:["Augmented","Inverted Augmented"]}],v=[0,2,4],b=[0,2,4,6],m=[0,2,4,6,8],x=[{names:["A"]},{names:["A#","Bb"]},{names:["B","Cb"]},{names:["C","B#"]},{names:["C#","Db"]},{names:["D"]},{names:["D#","Eb"]},{names:["E","Fb"]},{names:["F","E#"]},{names:["F#","Gb"]},{names:["G"]},{names:["G#","Ab"]}],O=[7,0,5,10,2,7],p=n(10),g=n(11),y=n(12),N=n(13);function w(e){return function(e){for(var t=y,n=0,r=0;r<e.length;r++){var a=t[e[r]];if(!a){n=r;break}t=a}if(0===n)return t.value;var s=N.seventh[e[n]];return t.value+s}(function(e){for(var t=[],n=1;n<e.length;n++){var r=k(e[0],e[n]);t.push(r)}return t}(e))}function k(e,t){return e<t?t-e:t+(12-e)}var S=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(p.a)(this,e),this.root=t,this.family=n,this.offset=r,this.notes=[],this.init()}return Object(g.a)(e,[{key:"init",value:function(){var e=[];e[0]=Number(this.root);for(var t=0;t<this.family.intervals.length;t++){var n=(this.offset+t)%this.family.intervals.length;e.push((Number(e[t])+Number(this.family.intervals[n]))%12)}this.notes=e}},{key:"getNote",value:function(e){return this.notes[e%(this.notes.length-1)]}},{key:"getChord",value:function(e,t){for(var n=[],r=0;r<t.length;r++){var a=t[r];n.push(this.getNote(a+e))}return{name:x[this.notes[e]].names[0]+w(n),notes:n}}},{key:"getChordsOfType",value:function(e){for(var t=[],n=0;n<this.notes.length-1;n++)t.push(this.getChord(n,e));return t}}]),e}(),A=n(6);function C(e,t){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(d.a.mark((function e(t,n){var r,a,s,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=E(a=L(t,n)),s=Object(A.a)(a);try{for(s.s();!(i=s.n()).done;)c=i.value,r.push({name:t.name,fingering:c})}catch(o){s.e(o)}finally{s.f()}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t,n=[],r=new Set,a=Object(A.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value,i=JSON.stringify(s);r.has(i)||(r.add(i),n.push(s))}}catch(c){a.e(c)}finally{a.f()}return n}function L(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=e.notes,r=[],a=0;a<6;a++)r.push([]);for(var s=0;s<12;s++)for(var i=0;i<6;i++)n.includes((t[i]+s)%12)&&r[i].push(s);for(var c=[],o=0;o<12;o++){var u,l=T(0,o,[[-1,-1,-1,-1,-1,-1]],r),d=Object(A.a)(l);try{for(d.s();!(u=d.n()).done;){var h=u.value;c.push(h)}}catch(j){d.e(j)}finally{d.f()}}return c.filter((function(e){return D(e,n,t)}))}function D(e,t,n){for(var r=new Set,a=Object.values(e),s=0;s<a.length;s++){var i=a[s],c=(n[s]+i)%12;r.add(c)}for(var o=0;o<t.length;o++){var u=t[o];if(!r.has(u)){if(3===t.length)return!1;if(2!==o)return!1}}for(var l=!1,d=0,h=0;h<a.length;h++){var j=a[h];if(-1===j){if(d++,h>1&&5!==h||1===h&&-1!==a[0])return!1;if(!l){if(t[h]!==(n[h]+j)%12)return!1;l=!0}}}return d<3}function T(e,t,n,r){if(6===e)return n;var a,s=[],i=r[e],c=Object(A.a)(i);try{for(c.s();!(a=c.n()).done;){var o=a.value;if(o>t+3)break;(o>=t||o<=0)&&s.push(o)}}catch(j){c.e(j)}finally{c.f()}for(var u=[],l=function(){var a=h[d],s=[];n.forEach((function(e){return s.push(Object.assign({},e))}));for(var i=0;i<s.length;i++){var c=s[i];c[e]=a,s[i]=c}T(e+1,t,s,r).forEach((function(e){return u.push(e)}))},d=0,h=s;d<h.length;d++)l();return u}n(21);var F=n(0),W=70,B=10,H=50,I=50,J=46,P=30,G={fontWeight:500},z={fontWeight:500},R={strokeWidth:2},Z={strokeWidth:3},$={};function q(e){var t=e.data;if(!t||!t.fingering)return"";t.fingering=Object.values(t.fingering);var n=function(){for(var e=[],t=0;t<6;t++){var n=H+t*P;e.push(Object(F.jsx)("line",{x1:n,x2:n,y1:W,y2:W+184,style:R}))}return e}(),r=function(){for(var e=[],t=1;t<=4;t++)e.push(Object(F.jsx)("line",{x1:H,x2:H+150,y1:W+t*J,y2:W+t*J,style:R}));return e}(),a=24,s=-1;t.fingering.forEach((function(e){e<a&&e>0&&(a=e),e>s&&(s=e)}));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];0!==t&&n.push(Object(F.jsx)("text",{style:z,x:H+171,y:W+J/1.66,children:t+1}));for(var r=0;r<6;r++){var a=e.fingering[r]-t;if(a>=1)n.push(Object(F.jsx)("circle",{r:12,cx:H+r*P,cy:W+a*J-23,style:$}));else{var s=-1===a?"x":"o";n.push(Object(F.jsx)("text",{width:12,height:14,x:r*P+H,y:W-14,textAnchor:"middle",style:G,children:s}))}}return n}(t,a+(s-a)<4?0:a-1);return Object(F.jsxs)("svg",{className:"diagram",viewBox:"0 0 "+(150+H+I)+" "+(184+W+B),children:[Object(F.jsx)("text",{className:"name",x:(150+H+I)/2,y:W/2,textAnchor:"middle",style:G,children:t.name}),Object(F.jsx)("line",{x1:H-5,x2:H+150+5,y1:W,y2:W,style:Z}),n,r,i]})}var K=50,Q=50,U=50,V=50,X=46,Y=25,_={fill:"#212121"},ee={fill:"#E75915"},te={fontWeight:500,fill:"#fff"},ne={stroke:"#333333",strokeWidth:2},re={stroke:"#000000",strokeWidth:7},ae={stroke:"#323232",strokeWidth:4};function se(e){var t=e.notes,n=e.ommits,r=e.tuning,a=void 0===r?O:r,s=function(){for(var e=[],t=1;t<14;t++)e.push(Object(F.jsx)("line",{style:ne,x1:U+t*X,x2:U+t*X,y1:K,y2:K+125}));for(var n=0;n<6;n++)e.push(Object(F.jsx)("line",{style:ne,x1:U,x2:U+598,y1:K+n*Y,y2:K+n*Y}));return e.push(Object(F.jsx)("line",{style:re,x1:U,x2:U,y1:K-2,y2:K+125+2})),e.push(Object(F.jsx)("line",{style:ae,x1:U+552,x2:U+552,y1:K-2,y2:K+125+2})),e}(),i=function(){if(!a||!t)return[];for(var e=[],r=0;r<6;r++)for(var s=a[5-r],i=0;i<13;i++){var c=(s+i)%12;t.includes(c)&&!n.includes(t.indexOf(c))&&(0===i?(e.push(Object(F.jsx)("circle",{r:12,cx:U-X/2.8,cy:K+r*Y,style:c===t[0]?ee:_})),e.push(Object(F.jsx)("text",{x:U-X/2.8,y:K+r*Y+5,textAnchor:"middle",style:te,children:x[c].names[0]}))):(e.push(Object(F.jsx)("circle",{r:12,cx:U+i*X-23,cy:K+r*Y,style:c===t[0]?ee:_})),e.push(Object(F.jsx)("text",{x:U+i*X-23,y:K+r*Y+5,textAnchor:"middle",style:te,children:x[c].names[0]}))))}return e}(),c=function(){var e=[];return[3,5,7,9,12].forEach((function(t){e.push(Object(F.jsx)("text",{textAnchor:"middle",x:U+X*t-23,y:K/2,children:t}))})),e}();return Object(F.jsxs)("svg",{viewBox:"0 0 "+(U+598+V)+" "+(K+125+Q),children:[Object(F.jsx)("rect",{y:K,x:U,width:598,height:125,style:{fill:"#fff"}}),s,i,c]})}function ie(){var e,t,n=Object(r.useState)(),a=Object(c.a)(n,2),s=a[0],i=a[1],o=Object(r.useState)(f[0]),u=Object(c.a)(o,2),l=u[0],p=u[1],g=Object(r.useState)(0),y=Object(c.a)(g,2),N=y[0],w=y[1],k=Object(r.useState)(0),A=Object(c.a)(k,2),M=A[0],E=A[1],L=Object(r.useState)([]),D=Object(c.a)(L,2),T=D[0],W=D[1],B=Object(r.useState)([]),H=Object(c.a)(B,2),I=(H[0],H[1],Object(r.useState)([])),J=Object(c.a)(I,2),P=J[0],G=J[1],z=Object(r.useState)([]),R=Object(c.a)(z,2),Z=R[0],$=R[1],K=Object(r.useState)([]),Q=Object(c.a)(K,2),U=Q[0],V=Q[1],X=Object(r.useState)([]),Y=Object(c.a)(X,2),_=Y[0],ee=Y[1];function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,console.log("diagrams:",n),ee(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){var e=new S(N,l,M);i(e)}()}),[l,N,M]),Object(r.useEffect)((function(){s&&(G(s.getChordsOfType(v)),$(s.getChordsOfType(b)),V(s.getChordsOfType(m)))}),[s]),Object(F.jsx)("div",{className:"page",children:Object(F.jsxs)("div",{className:"explorer",children:[Object(F.jsxs)("div",{className:"input",children:[Object(F.jsxs)("label",{children:["Root: ",Object(F.jsx)("br",{}),Object(F.jsx)("select",{onChange:function(e){return w(e.target.value)},children:x.map((function(e,t){return Object(F.jsx)("option",{value:t,children:e.names[0]},t+"n")}))})]}),Object(F.jsxs)("label",{children:["Scale Type:",Object(F.jsx)("br",{}),Object(F.jsx)("select",{onChange:function(e){return p(f[e.target.value])},children:f.map((function(e,t){return Object(F.jsx)("option",{value:t,children:e.name},t+"f")}))})]}),Object(F.jsxs)("label",{children:["Scale Type:",Object(F.jsx)("br",{}),Object(F.jsx)("select",{onChange:function(e){return E(e.target.value)},children:null===l||void 0===l||null===(e=l.modes)||void 0===e?void 0:e.map((function(e,t){return Object(F.jsx)("option",{value:t,children:e},t+"m")}))})]})]}),Object(F.jsx)("div",{className:"scaleNotes",children:null===s||void 0===s||null===(t=s.notes)||void 0===t?void 0:t.map((function(e,t){return Object(F.jsx)("span",{className:T.includes(t)?"ommit":"",onClick:function(){return function(e){var t=Object(j.a)(T),n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),W(t),console.log(T)}(t)},children:x[e].names[0]},"ommit"+t)}))}),Object(F.jsxs)("div",{className:"chords",children:[Object(F.jsx)("h1",{children:"Triads"}),Object(F.jsx)("div",{className:"repeater",children:null===P||void 0===P?void 0:P.map((function(e,t){return T.includes(t)?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)("button",{onClick:function(){return te(e)},children:[e.name,Object(F.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(F.jsx)("span",{className:"note",children:x[e].names[0]},n+"3"+t)}))})]},t+"b3")}))}),Object(F.jsx)("h1",{children:"Sevenths"}),Object(F.jsx)("div",{className:"repeater",children:null===Z||void 0===Z?void 0:Z.map((function(e,t){return T.includes(t)?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)("button",{onClick:function(){return te(e)},children:[e.name,Object(F.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(F.jsx)("span",{className:"note",children:x[e].names[0]},n+"7"+t)}))})]},t+"b7")}))}),Object(F.jsx)("h1",{children:"Ninths"}),Object(F.jsx)("div",{className:"repeater",children:null===U||void 0===U?void 0:U.map((function(e,t){return T.includes(t)?Object(F.jsx)(F.Fragment,{}):Object(F.jsxs)("button",{onClick:function(){return te(e)},children:[e.name,Object(F.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(F.jsx)("span",{className:"note",children:x[e].names[0]},n+"9"+t)}))})]},t+"b9")}))})]}),Object(F.jsx)("div",{className:"diagrams",children:_.map((function(e,t){return Object(F.jsx)(q,{data:e},t+"di")}))}),Object(F.jsx)("div",{className:"scaleDiagram",children:s&&Object(F.jsx)(se,{tuning:O,ommits:T,notes:s.notes})})]})})}n(23),n(24),n(25);var ce=function(){return Object(F.jsxs)(u,{children:[Object(F.jsx)(o,{path:"/",children:Object(F.jsx)(ie,{})}),Object(F.jsx)(o,{path:"/test",children:Object(F.jsx)("div",{className:"page",children:Object(F.jsx)(se,{notes:new S(0,f[0]).notes})})})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};i.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(ce,{})}),document.getElementById("root")),oe()}],[[26,1,2]]]);
//# sourceMappingURL=main.1fdcd5f5.chunk.js.map