(this["webpackJsonpmusic-theory-app"]=this["webpackJsonpmusic-theory-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"2":{"7":{"value":"sus2"}},"3":{"6":{"9":{"value":"\u1d527"},"10":{"value":"m7b5"},"value":"\u1d52"},"7":{"10":{"value":"m7"},"11":{"value":"minMaj7"},"value":"m"}},"4":{"7":{"10":{"value":"7"},"11":{"value":"Maj7"},"value":""},"8":{"11":{"value":"augMaj7"},"12":{"value":"aug7"},"value":"aug"}},"5":{"7":{"value":"sus4"}},"7":{"12":{"value":"5"},"value":"5"}}')},function(e){e.exports=JSON.parse('{"seventh":{"1":"(b9)","2":"(9)","3":"(#9)","13":"(b9)","14":"(9)","15":"(#9)"},"triad":{"1":"(add b9)","2":"(add 9)","3":"(add #9)","13":"(add b9)","14":"(add 9)","15":"(add #9)"}}')},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(10),a=n.n(c),i=(n(20),n(2)),o=(n(21),n(0));function l(e){var t=e.children,n=Object(s.useContext)(u);return Object(o.jsxs)("div",{className:"popup",children:[Object(o.jsx)("div",{className:"contents",children:t}),Object(o.jsx)("div",{className:"backdrop",onClick:n.closePopup})]})}var u=Object(s.createContext)(),d=function(e){var t=e.children,n=Object(s.useState)(),r=Object(i.a)(n,2),c=r[0],a=r[1];return Object(o.jsx)(u.Provider,{value:{closePopup:function(){a()},createPopup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Object(o.jsx)(l,{style:t,children:e}))},popup:c},children:t})},h=n(9),j="MAJOR",m="MINOR",b=["I","II","III","IV","V","VI","VII","IX","X"],f=[{name:"Major",chordTypes:[j,m,m,j,j,m,"DIMINISHED"],intervals:[2,2,1,2,2,2,1],modes:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},{name:"Melodic Minor",intervals:[2,1,2,2,2,2,1],modes:["Melodic Minor","Dorian b2","Lydian Aug.","Lydian dom.","Aeo. dom.","Half diminished","Alt."]},{name:"Harmonic Minor",intervals:[2,1,2,2,1,3,1],modes:["Harmonic Minor","Locrian nat. 6","Major #5","Doroam #4","Phrygian dom.","Lydian #2","Alt. dom. bb7"]},{name:"Harmonic Major",intervals:[2,2,1,2,1,3,1],modes:["Harmonic Major","Dorian b5","Phrygian b4","Lydian b3","Mixo. b2","Lydian Augmented #2","Locrian bb7"]},{name:"Diminished",intervals:[2,1,2,1,2,1,2,1],modes:["Diminished","Inverted Diminished"]},{name:"Whole Tone",intervals:[2,2,2,2,2,2],modes:["Whole Tone"]},{name:"Augmented",intervals:[3,1,3,1,3,1],modes:["Augmented","Inverted Augmented"]}],v=[0,2,4],x=[0,2,4,6],O=[0,2,4,6,8],p=[{names:["A"]},{names:["A#","Bb"]},{names:["B","Cb"]},{names:["C","B#"]},{names:["C#","Db"]},{names:["D"]},{names:["D#","Eb"]},{names:["E","Fb"]},{names:["F","E#"]},{names:["F#","Gb"]},{names:["G"]},{names:["G#","Ab"]}],g=[[1,4,0],[0,5,3,4],[1,4,0],[0,5,1,4],[0,4,5,3],[0,3,5,4],[0,2,3,4],[0,3,0,4],[0,3,1,4]],y=[7,0,5,10,2,7],N=n(11),C=n(12),M=n(13),D=n(14);function I(e){return function(e){for(var t=M,n=0,s=0;s<e.length;s++){var r=t[e[s]];if(!r){n=s;break}t=r}if(0===n)return t.value;var c=D.seventh[e[n]];return t.value+c}(function(e){for(var t=[],n=1;n<e.length;n++){var s=S(e[0],e[n]);t.push(s)}return t}(e))}function S(e,t){return e<t?t-e:t+(12-e)}var k=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(N.a)(this,e),this.root=t,this.family=n,this.offset=s,this.notes=[],this.init()}return Object(C.a)(e,[{key:"init",value:function(){var e=[];e[0]=Number(this.root);for(var t=this.offset;t<this.family.intervals.length;t++)e.push((Number(e[e.length-1])+Number(this.family.intervals[t]))%12);for(var n=0;n<this.offset;n++)e.push((Number(e[e.length-1])+Number(this.family.intervals[n]))%12);this.notes=e}},{key:"getNote",value:function(e){return this.notes[e%(this.notes.length-1)]}},{key:"getChord",value:function(e,t){for(var n=[],s=0;s<t.length;s++){var r=t[s];n.push(this.getNote(r+e))}return{name:p[this.notes[e]].names[0]+I(n),notes:n}}},{key:"getChordsOfType",value:function(e){for(var t=[],n=0;n<this.notes.length-1;n++)t.push(this.getChord(n,e));return t}}]),e}(),w=(n(23),30),A=30,E=10,P=10,T=46,F=25;function L(e){var t=e.notes,n=e.ommits,s=e.tuning,r=void 0===s?y:s,c=function(){for(var e=[],t=1;t<14;t++)e.push(Object(o.jsx)("line",{x1:E+t*T,x2:E+t*T,y1:w,y2:w+125}));for(var n=0;n<6;n++)e.push(Object(o.jsx)("line",{x1:E,x2:E+598,y1:w+n*F,y2:w+n*F}));return e.push(Object(o.jsx)("line",{className:"nut",x1:E,x2:E,y1:w-2,y2:w+125+2})),e.push(Object(o.jsx)("line",{className:"halfnut",x1:E+552,x2:E+552,y1:w-2,y2:w+125+2})),e}(),a=function(){if(!r||!t)return[];for(var e=[],s=0;s<6;s++)for(var c=r[5-s],a=0;a<13;a++){var i=(c+a)%12;t.includes(i)&&!n.includes(t.indexOf(i))&&(0===a?(e.push(Object(o.jsx)("circle",{r:12,cx:E-T/2.8,cy:w+s*F,className:i===t[0]?"rootCircle":"circle"})),e.push(Object(o.jsx)("text",{className:"subtext",x:E-T/2.8,y:w+s*F+3,textAnchor:"middle",children:p[i].names[0]}))):(e.push(Object(o.jsx)("circle",{r:12,cx:E+a*T-23,cy:w+s*F,className:i===t[0]?"rootCircle":"circle"})),e.push(Object(o.jsx)("text",{className:"subtext",x:E+a*T-23,y:w+s*F+3,textAnchor:"middle",children:p[i].names[0]}))))}return e}(),i=function(){var e=[];return[1,3,5,7,9,12].forEach((function(t){e.push(Object(o.jsx)("text",{textAnchor:"middle",x:E+T*t-23,y:w+150+A/10,className:"fretNumber",children:t})),12===t?(e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:w+37.5})),e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:w+87.5}))):e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:w+62.5}))})),e}();return Object(o.jsxs)("svg",{viewBox:"0 0 "+(E+598+P)+" "+(w+125+A),children:[Object(o.jsx)("rect",{y:w,x:E,width:598,height:125,class:"background"}),i,c,a]})}var B=n(4),H=n.n(B),V=n(6),W=n(15),J=n(8);function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(n[t]+e)%12}function G(e,t){return q.apply(this,arguments)}function q(){return(q=Object(V.a)(H.a.mark((function e(t,n){var s,r,c,a,i,o,l=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=l.length>2&&void 0!==l[2]?l[2]:{allowInversions:!1,mutedMustBeConnected:!0,maxMutedCount:3,mutedNotInCenter:!0},r=z(t.notes,n),c=[],a=0;a<9;a++)(i=new Set).add([-1,-1,-1,-1,-1,-1]),K(0,a,i,r).forEach((function(e){c.push(e)}));return c=(c=X(c)).filter((function(e){return Q(e,n,t.notes,s)})),o=[],c.forEach((function(e){o.push({name:t.name,fingering:e})})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t,n=[],s=new Set,r=Object(J.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,a=Object.values(c),i="";a.forEach((function(e){return i+=e})),s.has(i)||(s.add(i),n.push(a))}}catch(o){r.e(o)}finally{r.f()}return n}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=[];t.forEach((function(e){return n.push([-1])}));for(var s=0;s<12;s++)for(var r=0;r<t.length;r++){var c=R(s,r,t);e.includes(c)&&n[r].push(s)}return n}function K(e,t,n,s){if(6===e)return n;var r,c=[],a=s[e],i=Object(J.a)(a);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o>=t&&o-t<3||o<=0)&&c.push(o)}}catch(j){i.e(j)}finally{i.f()}for(var l=new Set,u=function(){var r=h[d],c=new Set;n.forEach((function(e){var t=Object(W.a)({},e);c.add(t)})),c.forEach((function(t){t[e]=r})),K(e+1,t,c,s).forEach((function(e){return l.add(e)}))},d=0,h=c;d<h.length;d++)u();return l}function Q(e,t,n,s){for(var r=Object.values(e),c=0,a=!1,i=!1,o=!0,l=[],u=0;u<r.length;u++){var d=R(r[u],u,t);if(l.push(d),-1===r[u]){if([2,3,4].includes(u)&&s.mutedNotInCenter)return!1;if(c>0){var h=r[u-1],j=u===r.length-1?0:r[u+1];o=-1===h||-1===j}c+=1}else a||(a=!0,d===n[0]&&(i=!0))}return n.forEach((function(e){if(!l.includes(e))return!1})),c<=s.maxMutedCount&&(s.allowInversions||i)&&(o||!s.mutedMustBeConnected)}n(25);var U=70,Y=10,Z=50,$=50,_=46,ee=30,te={fontWeight:500},ne={fontWeight:500},se={strokeWidth:2},re={strokeWidth:3},ce={};function ae(e){var t=e.data,n=e.k,s=t;if(!s||!s.fingering)return"";s.fingering=Object.values(s.fingering);var r=function(){for(var e=[],t=0;t<6;t++){var n=Z+t*ee;e.push(Object(o.jsx)("line",{x1:n,x2:n,y1:U,y2:U+184,style:se},"line"+e.length))}return e}(),c=function(){for(var e=[],t=1;t<=4;t++)e.push(Object(o.jsx)("line",{x1:Z,x2:Z+150,y1:U+t*_,y2:U+t*_,style:se},"fret"+e.length));return e}(),a=24,i=-1;s.fingering.forEach((function(e){e<a&&e>0&&(a=e),e>i&&(i=e)}));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];0!==t&&n.push(Object(o.jsx)("text",{style:ne,x:Z+171,y:U+_/1.66,children:t+1},"q"+n.length));for(var s=0;s<6;s++){var r=e.fingering[s];if(r>0)n.push(Object(o.jsx)("circle",{r:12,cx:Z+s*ee,cy:U+(r-t)*_-23,style:ce},"q"+n.length));else{var c="";switch(r){case 0:c="o";break;case-1:c="x"}n.push(Object(o.jsx)("text",{width:12,height:14,x:s*ee+Z,y:U-14,textAnchor:"middle",style:te,children:c}))}}return n}(s,a+(i-a)<4?0:a-1);return Object(o.jsxs)("svg",{className:"chordDiagram",viewBox:"0 0 "+(150+Z+$)+" "+(184+U+Y),children:[Object(o.jsx)("text",{className:"name",x:(150+Z+$)/2,y:U/2,textAnchor:"middle",style:te,children:s.name}),Object(o.jsx)("line",{x1:Z-5,x2:Z+150+5,y1:U,y2:U,style:re}),r,c,l]},n)}function ie(){var e,t,n,r=Object(s.useContext)(le),c=Object(s.useContext)(u);function a(e){return i.apply(this,arguments)}function i(){return(i=Object(V.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:n=e.sent,console.log(n),c.createPopup(Object(o.jsx)("div",{className:"center",children:n.map((function(e,t){return Object(o.jsx)(ae,{k:"dia"+t,data:e},"d"+t)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"chords tab",children:[Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Triads"}),Object(o.jsx)("div",{className:"chordelements",children:null===(e=r.triads)||void 0===e?void 0:e.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsx)("h4",{className:"scaleDegree "+r.degrees[t],children:b[t]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"3"+t)}))})]},t+"b3")}))})]}),Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Sevenths"}),Object(o.jsx)("div",{className:"chordelements",children:null===(t=r.sevenths)||void 0===t?void 0:t.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsxs)("h4",{className:"scaleDegree "+r.degrees[t],children:[b[t],"7"]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"7"+t)}))})]},t+"b7")}))})]}),Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Ninths"}),Object(o.jsx)("div",{className:"chordelements",children:null===(n=r.ninths)||void 0===n?void 0:n.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsxs)("h4",{className:"scaleDegree "+r.degrees[t],children:[b[t],"9"]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"9"+t)}))})]},t+"b9")}))})]})]})}function oe(){var e=Object(s.useContext)(le);return Object(o.jsxs)("div",{className:"progressions tab",children:[Object(o.jsx)("h1",{children:"Progressions"}),Object(o.jsx)("div",{className:"grid",children:g.map((function(t,n){return Object(o.jsx)("div",{className:"progression",children:t.map((function(t,n){var s;return Object(o.jsxs)("span",{children:[Object(o.jsx)("h2",{children:null===e||void 0===e||null===(s=e.triads[t])||void 0===s?void 0:s.name}),Object(o.jsx)("h3",{className:"scaleDegree "+(null===e||void 0===e?void 0:e.degrees[t]),children:b[t]})]},"c"+n)}))},t+n)}))})]})}var le=Object(s.createContext)(null);function ue(){var e,t,n=Object(s.useState)(),r=Object(i.a)(n,2),c=r[0],a=r[1],l=Object(s.useState)(f[0]),d=Object(i.a)(l,2),j=d[0],m=d[1],g=Object(s.useState)(0),N=Object(i.a)(g,2),C=N[0],M=N[1],D=Object(s.useState)(0),I=Object(i.a)(D,2),S=I[0],w=I[1],A=Object(s.useState)([]),E=Object(i.a)(A,2),P=E[0],T=E[1],F=Object(s.useState)([]),B=Object(i.a)(F,2),H=B[0],V=B[1],W=Object(s.useState)([]),J=Object(i.a)(W,2),R=J[0],G=J[1],q=Object(s.useState)([]),X=Object(i.a)(q,2),z=X[0],K=X[1],Q=Object(s.useState)(j.chordTypes),U=Object(i.a)(Q,2),Y=U[0],Z=U[1],$=[{name:"Chords",content:Object(o.jsx)(ie,{})},{name:"Progressions",content:Object(o.jsx)(oe,{})}],_=Object(s.useState)($[0].content),ee=Object(i.a)(_,2),te=ee[0],ne=ee[1],se=Object(s.useContext)(u);return Object(s.useEffect)((function(){var e=new k(C,j,S);a(e);for(var t=Object(h.a)(j.chordTypes),n=0;n<S;n++){var s=t.shift();t.push(s)}Z(t)}),[j,C,S]),Object(s.useEffect)((function(){c&&(V(c.getChordsOfType(v)),G(c.getChordsOfType(x)),K(c.getChordsOfType(O)))}),[c]),Object(o.jsxs)("div",{className:"page",children:[se.popup,Object(o.jsxs)("div",{className:"explorer",children:[Object(o.jsxs)("div",{className:"input",children:[Object(o.jsxs)("label",{children:["Root: ",Object(o.jsx)("br",{}),Object(o.jsx)("select",{defaultValue:0,onChange:function(e){return M(e.target.value)},children:p.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e.names[0]},t+"n")}))})]}),Object(o.jsxs)("label",{children:["Mode:",Object(o.jsx)("br",{}),Object(o.jsx)("select",{defaultValue:0,onChange:function(e){return w(e.target.value)},children:null===j||void 0===j||null===(e=j.modes)||void 0===e?void 0:e.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e},t+"m")}))})]})]}),Object(o.jsx)("div",{className:"scaleNotes",children:null===c||void 0===c||null===(t=c.notes)||void 0===t?void 0:t.map((function(e,t){return Object(o.jsxs)("span",{className:P.includes(t)?"ommit":"",onClick:function(){return function(e){var t=Object(h.a)(P),n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),T(t)}(t)},children:[p[e].names[0],Object(o.jsx)("h3",{className:"scaleDegree "+Y[t],children:b[t%(c.notes.length-1)]})]},"ommit"+t)}))}),Object(o.jsx)("div",{className:"scaleDiagram",children:c&&Object(o.jsx)(L,{tuning:y,ommits:P,notes:c.notes})}),Object(o.jsx)("div",{className:"tabselect",children:$.map((function(e,t){return Object(o.jsx)("button",{onClick:function(){ne($[t].content)},children:e.name})}))}),Object(o.jsx)("div",{className:"tabs",children:Object(o.jsx)(le.Provider,{value:{scale:c,setScale:a,family:j,setFamily:m,root:C,setRoot:M,mode:S,setMode:w,ommits:P,setOmmits:T,triads:H,setTriads:V,sevenths:R,setSevenths:G,ninths:z,setNinths:K,degrees:Y,setDegrees:Z},children:te})})]})]})}n(26),n(27),n(28);var de=function(){return Object(o.jsx)(d,{children:Object(o.jsx)(ue,{})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(de,{})}),document.getElementById("root")),he()}],[[29,1,2]]]);
//# sourceMappingURL=main.47a0b369.chunk.js.map