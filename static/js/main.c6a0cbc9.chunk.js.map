{"version":3,"sources":["constants.js","util/NamingUtils.js","objects/Scale.js","components/ScaleDiagram.js","pages/ScaleExplorer.js","App.js","reportWebVitals.js","index.js"],"names":["SCALE_FAMILIES","name","intervals","modes","CHORD_TYPES","NOTES","names","STANDARD_TUNING","getChordName","notes","current","naming","lastIndex","i","length","next","value","ext","extensions","seventh","getNameFromMap","res","semitones","getSemitonesBetweenNotes","push","getIntervalsBetweenNotesOfChord","a","b","Scale","root","family","offset","this","init","nts","Number","index","startIndex","indices","noots","getNote","type","result","getChord","margin","fretheight","stringOffset","ScaleDiagram","ommits","tuning","lines","fretsDisplayed","x1","x2","y1","y2","className","generateLines","dots","string","base","stringCount","fret","note","includes","indexOf","r","cx","cy","x","y","textAnchor","generateDots","numbers","forEach","n","circleRadius","generateNumbers","viewBox","width","height","class","ScaleExplorer","useState","scale","setScale","setRoot","mode","setMode","setOmmits","triads","setTriads","sevenths","setSevenths","ninths","setNinths","useEffect","s","updateScale","getChordsOfType","onChange","e","target","map","selected","onClick","o","splice","toggleOmmit","j","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6a0cbc9.chunk.js","sourcesContent":["export const SCALE_FAMILIES = [\r\n    {name:\"Major\", intervals:[2,2,1,2,2,2,1], modes:[\"Ionian (Major)\", \"Dorian\", \"Phrygian\", \"Lydian\", \"Mixolydian\", \"Aeolian (Natural Minor)\", \"Locrian\"]},\r\n    {name:\"Melodic Minor\", intervals:[2,1,2,2,2,2,1], modes:[\"Melodic Minor\", \"Dorian b2\", \"Lydian Aug.\", \"Lydian dom.\", \"Aeo. dom.\", \"Half diminished\", \"Alt.\"]},\r\n    {name:\"Harmonic Minor\", intervals:[2,1,2,2,1,3,1], modes:[\"Harmonic Minor\", \"Locrian nat. 6\", \"Major #5\", \"Doroam #4\", \"Phrygian dom.\", \"Lydian #2\", \"Alt. dom. bb7\"]},\r\n    {name:\"Harmonic Major\", intervals:[2,2,1,2,1,3,1], modes:[\"Harmonic Major\", \"Dorian b5\", \"Phrygian b4\", \"Lydian b3\", \"Mixo. b2\", \"Lydian Augmented #2\", \"Locrian bb7\"]},\r\n    {name:\"Diminished\", intervals:[2,1,2,1,2,1,2,1], modes:[\"Diminished\", \"Inverted Diminished\"]},\r\n    {name:\"Whole Tone\", intervals:[2,2,2,2,2,2], modes:[\"Whole Tone\"]},\r\n    {name:\"Augmented\", intervals:[3,1,3,1,3,1], modes:[\"Augmented\", \"Inverted Augmented\"]}\r\n]\r\n\r\nexport const CHORD_TYPES = {\r\n    triad:[0,2,4],\r\n    seventh:[0,2,4,6],\r\n    ninth:[0,2,4,6,8]\r\n}\r\n\r\nexport const NOTES = [\r\n    {names: [\"A\"]},\r\n    {names: [\"A#\", \"Bb\"]},\r\n    {names: [\"B\", \"Cb\"]},\r\n    {names: [\"C\", \"B#\"]},\r\n    {names: [\"C#\", \"Db\"]},\r\n    {names: [\"D\"]},\r\n    {names: [\"D#\", \"Eb\"]},\r\n    {names: [\"E\", \"Fb\"]},\r\n    {names: [\"F\", \"E#\"]},\r\n    {names: [\"F#\", \"Gb\"]},\r\n    {names: [\"G\"]},\r\n    {names: [\"G#\", \"Ab\"]}\r\n]\r\n\r\nexport const STANDARD_TUNING = [7, 0, 5, 10, 2, 7];","import naming from \"../json/naming.json\";\r\nimport extensions from \"../json/extensions.json\";\r\n\r\nexport function getChordName(notes) {\r\n    let intervals = getIntervalsBetweenNotesOfChord(notes);\r\n    return getNameFromMap(intervals);\r\n}\r\n\r\nfunction getSemitonesBetweenNotes(a, b) {\r\n    if(a < b) {\r\n        return b - a;\r\n    } else {\r\n        return b + (12 - a);\r\n    }\r\n}\r\n\r\nfunction getIntervalsBetweenNotesOfChord(notes) {\r\n    let res = [];\r\n    for (let i = 1; i < notes.length; i++) {\r\n        let semitones = getSemitonesBetweenNotes(notes[0], notes[i]);\r\n        res.push(semitones);\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nfunction getNameFromMap(intervals) {\r\n    let current = naming;\r\n    let lastIndex = 0;\r\n    let val = \"\";\r\n    for(let i = 0; i < intervals.length; i++) {\r\n        let interval = intervals[i];\r\n        let next = current[interval];\r\n        if(!next) {\r\n            lastIndex = i;\r\n            break;\r\n        }\r\n        current = next;\r\n    }\r\n\r\n    if(lastIndex === 0) {\r\n        return current.value;\r\n    }\r\n\r\n    var ext = extensions.seventh[intervals[lastIndex]]\r\n    \r\n\r\n    return current.value + ext;\r\n}","import { NOTES } from \"../constants\";\r\nimport { getChordName } from \"../util/NamingUtils\";\r\n\r\nexport class Scale{\r\n    constructor(root, family, offset = 0) {\r\n        this.root = root;\r\n        this.family = family;\r\n        this.offset = offset;\r\n        this.notes = []\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        let nts = [];\r\n        nts[0] = Number(this.root);\r\n        for (let i = this.offset; i < this.family.intervals.length; i++) {\r\n            nts.push((Number(nts[nts.length - 1]) + Number(this.family.intervals[i])) % 12);\r\n        }\r\n\r\n        for (let i = 0; i < this.offset; i++) {\r\n            nts.push((Number(nts[nts.length - 1]) + Number(this.family.intervals[i])) % 12);\r\n        }\r\n\r\n        this.notes = nts;\r\n    }\r\n\r\n    //get note by index, including out of range indices. this also ignores the last (doubled) note in the scale\r\n    getNote(index) {\r\n        return this.notes[index % (this.notes.length - 1)];\r\n    }\r\n\r\n    getChord(startIndex, indices) {\r\n        let noots = [];\r\n        for (let i = 0; i < indices.length; i++) {\r\n            const index = indices[i];\r\n            noots.push(this.getNote(index + startIndex));\r\n        }\r\n\r\n        return {name:NOTES[this.notes[startIndex]].names[0] + getChordName(noots), notes: noots};\r\n    }\r\n\r\n    getChordsOfType(type) {\r\n        let result = [];\r\n        for (let i = 0; i < this.notes.length - 1; i++) {\r\n            result.push(this.getChord(i, type));\r\n        }\r\n\r\n        return result;\r\n    }\r\n}","import { NOTES, STANDARD_TUNING } from \"../constants\";\r\n\r\nconst fretsDisplayed = 13;\r\nconst margin = {top:50,bottom:50, left:50, right:50};\r\nconst fretheight = 46;\r\nconst stringCount = 6;\r\nconst stringOffset = 25;\r\nconst circleRadius = 12;\r\n\r\nconst title = {\r\n    fontWeight:500\r\n}\r\n\r\nconst circle = {\r\n    fill:\"#212121\"\r\n}\r\n\r\nconst rootCircle = {\r\n    fill:\"#E75915\"\r\n}\r\n\r\nconst subtext = {\r\n    fontWeight:500,\r\n    fill:\"#fff\"\r\n}\r\n\r\nconst line = {\r\n    stroke:\"#333333\",\r\n    strokeWidth:2\r\n}\r\n\r\nconst nut = {\r\n    stroke:\"#000000\",\r\n    strokeWidth:7\r\n}\r\n\r\nconst halfnut = {\r\n    stroke:\"#323232\",\r\n    strokeWidth:4\r\n}\r\n\r\nexport default function ScaleDiagram({notes, ommits, tuning = STANDARD_TUNING}) {\r\n    const lines = generateLines();\r\n    const dots = generateDots();\r\n    const numbers = generateNumbers();\r\n\r\n\r\n    function generateLines() {\r\n        let lines = [];\r\n        for (let i = 1; i < fretsDisplayed + 1; i++) {\r\n            lines.push(<line x1={margin.left + (i*fretheight)} x2={margin.left + (i*fretheight)} y1={margin.top} y2={margin.top + stringOffset * (stringCount - 1)} />)\r\n        }\r\n        \r\n        for (let i = 0; i < stringCount; i++) {\r\n            lines.push(<line x1={margin.left} x2={margin.left + fretsDisplayed*fretheight} y1={margin.top + i * stringOffset} y2={margin.top + i * stringOffset}/>)    \r\n        }\r\n        lines.push(<line className=\"nut\" x1={margin.left} x2={margin.left} y1={margin.top - 2} y2={margin.top + (stringOffset * (stringCount - 1)) + 2} />);\r\n        lines.push(<line className=\"halfnut\" x1={margin.left + fretheight * 12} x2={margin.left + fretheight * 12} y1={margin.top - 2} y2={margin.top + (stringOffset * (stringCount - 1)) + 2} />);\r\n        return lines;\r\n    }\r\n\r\n    function generateDots() {\r\n        if(!tuning || !notes) return [];\r\n        let dots = [];\r\n        for (let string = 0; string < stringCount; string++) {\r\n            const base = tuning[(stringCount - 1) - string];\r\n            for (let fret = 0; fret < fretsDisplayed; fret++) {\r\n                let note = (base + fret) % 12;\r\n                if (notes.includes(note) && !ommits.includes(notes.indexOf(note))) {\r\n                    if (fret === 0) {\r\n                        dots.push(<circle r={circleRadius} cx={(margin.left - fretheight/2.8)} cy={margin.top + string * stringOffset} className={note === notes[0] ? \"rootCircle\" : \"circle\"}/>);\r\n                        dots.push(<text className=\"subtext\" x={(margin.left - fretheight/2.8)} y={margin.top + string * stringOffset + 3} textAnchor={\"middle\"}>{NOTES[note].names[0]}</text>);\r\n                    } else {\r\n                        dots.push(<circle r={circleRadius} cx={(margin.left + fret * fretheight - fretheight/2)} cy={margin.top + string * stringOffset} className={note === notes[0] ? \"rootCircle\" : \"circle\"}/>)\r\n                        dots.push(<text className=\"subtext\" x={(margin.left + fret * fretheight - fretheight/2)} y={margin.top + string * stringOffset + 3} textAnchor={\"middle\"}>{NOTES[note].names[0]}</text>);\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }\r\n        return dots\r\n    }\r\n\r\n    function generateNumbers() {\r\n        let numbers = [];\r\n        const nums = [1,3,5,7,9,12];\r\n\r\n        nums.forEach(n => {\r\n            numbers.push(<text textAnchor={\"middle\"} x={margin.left + (fretheight * n) - fretheight/2} y={margin.top + stringOffset*6 + margin.bottom / 2} className=\"fretNumber\">{n}</text>);\r\n            \r\n            if(n === 12) {\r\n                numbers.push(<circle r={circleRadius/2} className=\"boardDot\" cx={margin.left + (fretheight * n) - fretheight/2} cy={margin.top + stringOffset*1.5}></circle>)\r\n                numbers.push(<circle r={circleRadius/2} className=\"boardDot\" cx={margin.left + (fretheight * n) - fretheight/2} cy={margin.top + stringOffset*3.5}></circle>)\r\n            } else {\r\n                numbers.push(<circle r={circleRadius/2} className=\"boardDot\" cx={margin.left + (fretheight * n) - fretheight/2} cy={margin.top + stringOffset*2.5}></circle>)\r\n            }\r\n        })\r\n\r\n        return numbers;\r\n    }\r\n\r\n    return <svg viewBox={\"0 0 \"+(margin.left + (fretheight * fretsDisplayed) + margin.right)+\" \"+(margin.top + (stringOffset * (stringCount - 1)) + margin.bottom)}  /* width={margin.left + (fretheight * fretsDisplayed) + margin.right} height={margin.top + (stringOffset * (stringCount - 1)) + margin.bottom} */>\r\n        {/* <rect width={margin.left+fretheight * fretsDisplayed+margin.right} height={margin.top+stringOffset * (stringCount - 1)+margin.bottom}  style={{fill:\"#888\"}}/> */}\r\n        <rect y={margin.top} x={margin.left} width={fretheight * fretsDisplayed} height={stringOffset * (stringCount - 1)}  class=\"background\"/>\r\n        {numbers}\r\n        {lines}\r\n        {dots}\r\n    </svg>\r\n}","import { useEffect, useState } from \"react\"\r\nimport { CHORD_TYPES, NOTES, SCALE_FAMILIES, STANDARD_TUNING } from \"../constants\";\r\nimport { Scale } from \"../objects/Scale\";\r\nimport \"../stylesheets/explorer.scss\";\r\nimport ScaleDiagram from \"../components/ScaleDiagram\";\r\n\r\nexport default function ScaleExplorer() {\r\n    const [scale, setScale] = useState();\r\n    const [family, setFamily] = useState(SCALE_FAMILIES[0]);\r\n    const [root, setRoot] = useState(0);\r\n    const [mode, setMode] = useState(0);\r\n    const [ommits, setOmmits] = useState([]);\r\n\r\n    const [triads, setTriads] = useState([]);\r\n    const [sevenths, setSevenths] = useState([]);\r\n    const [ninths, setNinths] = useState([]);\r\n\r\n    useEffect(()=> {\r\n        updateScale();\r\n    }, [family, root, mode])\r\n\r\n    useEffect(()=> {\r\n        if(scale) {\r\n            setTriads(scale.getChordsOfType(CHORD_TYPES.triad));\r\n            setSevenths(scale.getChordsOfType(CHORD_TYPES.seventh));\r\n            setNinths(scale.getChordsOfType(CHORD_TYPES.ninth));\r\n        }\r\n    }, [scale])\r\n\r\n    function updateScale() {\r\n        let s = new Scale(root, family, mode);\r\n        setScale(s);\r\n    }\r\n\r\n    function toggleOmmit(n) {\r\n        let o = [...ommits];\r\n        let i = o.indexOf(n);\r\n        if (i === -1) {\r\n            o.push(n);\r\n        } else {\r\n            o.splice(i,1);\r\n        }\r\n        setOmmits(o);\r\n    }\r\n\r\n    return <div className=\"page\">\r\n        <div className=\"explorer\">\r\n            <div className=\"input\">\r\n                <label>\r\n                    Root: <br/>\r\n                    <select onChange={e=>setRoot(e.target.value)}>\r\n                        {\r\n                            NOTES.map((note, i) => <option key={i+\"n\"} value={i} selected={root === i ? \"selected\":null}>{note.names[0]}</option>)\r\n                        }\r\n                    </select>\r\n                </label>\r\n                {/* <label>\r\n                    Scale Type:<br/> \r\n                    <select onChange={e=>setFamily(SCALE_FAMILIES[e.target.value])}>\r\n                        {\r\n                            SCALE_FAMILIES.map((fam, i) => <option key={i+\"f\"} value={i} selected={family.name === fam.name ? \"selected\":null}>{fam.name}</option>)\r\n                        }\r\n                    </select>\r\n                </label> */}\r\n                <label>\r\n                    Mode:<br/> \r\n                    <select onChange={e=>setMode(e.target.value)}>\r\n                        {\r\n                            family?.modes?.map((mode, i) => <option key={i+\"m\"} value={i} selected={mode === i ? \"selected\" : null}>{mode}</option>)\r\n                        }\r\n                    </select>\r\n                </label>\r\n            </div>\r\n            <div className=\"scaleNotes\">\r\n                {\r\n                    scale?.notes?.map((n, i) => <span key={\"ommit\"+i}className={ommits.includes(i) ? \"ommit\" : \"\"} onClick={()=>toggleOmmit(i)}>{NOTES[n].names[0]} <h3>{i + 1}</h3></span>)\r\n                }\r\n            </div>\r\n            <div className=\"scaleDiagram\">\r\n                {scale && <ScaleDiagram tuning={STANDARD_TUNING} ommits={ommits} notes={scale.notes}/>}\r\n            </div>\r\n            <div className=\"chords\">\r\n                <div className=\"repeater\">\r\n                    <h3>Triads</h3>\r\n                    <div className=\"chordelements\">\r\n                        {\r\n                            triads?.map((e,i) => ommits.includes(i) ? <></> : <span className=\"chord\" key={i+\"b3\"} /* onClick={()=>getDiagrams(e)} */>\r\n                                {e.name}\r\n                                <span className=\"notes\">{e.notes.map((n,j) => <span key={j+\"3\"+i} className=\"note\">{NOTES[n].names[0]}</span>)}</span>\r\n                            </span>)\r\n                        }        \r\n                    </div>\r\n                </div>\r\n                <div className=\"repeater\">\r\n                    <h3>Sevenths</h3>\r\n                    <div className=\"chordelements\">\r\n                        {\r\n                            sevenths?.map((e,i) => ommits.includes(i) ? <></> : <span className=\"chord\" key={i+\"b7\"} /* onClick={()=>getDiagrams(e)} */>\r\n                                {e.name}\r\n                                <span className=\"notes\">{e.notes.map((n,j) => <span key={j+\"7\"+i} className=\"note\">{NOTES[n].names[0]}</span>)}</span>\r\n                            </span>)\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"repeater\">\r\n                    <h3>Ninths</h3>\r\n                    <div className=\"chordelements\">\r\n                        {\r\n                            ninths?.map((e,i) => ommits.includes(i) ? <></> : <span className=\"chord\" key={i+\"b9\"} /* onClick={()=>getDiagrams(e)} */>\r\n                                {e.name}\r\n                                <span className=\"notes\">{e.notes.map((n,j) => <span key={j+\"9\"+i} className=\"note\">{NOTES[n].names[0]}</span>)}</span>\r\n                            </span>)\r\n                        }        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}","import ScaleExplorer from './pages/ScaleExplorer';\nimport './App.css';\nimport \"./stylesheets/colors.scss\";\nimport \"./stylesheets/page.scss\";\n\nfunction App() {\n  return <ScaleExplorer/>\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}