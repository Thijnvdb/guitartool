(this["webpackJsonpmusic-theory-app"]=this["webpackJsonpmusic-theory-app"]||[]).push([[0],[,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"2":{"7":{"value":"sus2"}},"3":{"6":{"9":{"value":"\u1d527"},"10":{"value":"m7b5"},"value":"\u1d52"},"7":{"10":{"value":"m7"},"11":{"value":"minMaj7"},"value":"m"}},"4":{"7":{"10":{"value":"7"},"11":{"value":"Maj7"},"value":""},"8":{"11":{"value":"augMaj7"},"12":{"value":"aug7"},"value":"aug"}},"5":{"7":{"value":"sus4"}},"7":{"12":{"value":"5"},"value":"5"}}')},function(e){e.exports=JSON.parse('{"seventh":{"1":"(b9)","2":"(9)","3":"(#9)","13":"(b9)","14":"(9)","15":"(#9)"},"triad":{"1":"(add b9)","2":"(add 9)","3":"(add #9)","13":"(add b9)","14":"(add 9)","15":"(add #9)"}}')},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(9),a=n.n(c),i=(n(18),n(2)),o=(n(19),n(0));function u(e){var t=e.children,n=Object(s.useContext)(l);return Object(o.jsxs)("div",{className:"popup",children:[Object(o.jsx)("div",{className:"contents",children:t}),Object(o.jsx)("div",{className:"backdrop",onClick:n.closePopup})]})}var l=Object(s.createContext)(),d=function(e){var t=e.children,n=Object(s.useState)(),r=Object(i.a)(n,2),c=r[0],a=r[1];return Object(o.jsx)(l.Provider,{value:{closePopup:function(){a()},createPopup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Object(o.jsx)(u,{style:t,children:e}))},popup:c},children:t})},h=n(4),j="MAJOR",m="MINOR",b=["I","II","III","IV","V","VI","VII","IX","X"],f=[{name:"Major",chordTypes:[j,m,m,j,j,m,"DIMINISHED"],intervals:[2,2,1,2,2,2,1],modes:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},{name:"Melodic Minor",intervals:[2,1,2,2,2,2,1],modes:["Melodic Minor","Dorian b2","Lydian Aug.","Lydian dom.","Aeo. dom.","Half diminished","Alt."]},{name:"Harmonic Minor",intervals:[2,1,2,2,1,3,1],modes:["Harmonic Minor","Locrian nat. 6","Major #5","Doroam #4","Phrygian dom.","Lydian #2","Alt. dom. bb7"]},{name:"Harmonic Major",intervals:[2,2,1,2,1,3,1],modes:["Harmonic Major","Dorian b5","Phrygian b4","Lydian b3","Mixo. b2","Lydian Augmented #2","Locrian bb7"]},{name:"Diminished",intervals:[2,1,2,1,2,1,2,1],modes:["Diminished","Inverted Diminished"]},{name:"Whole Tone",intervals:[2,2,2,2,2,2],modes:["Whole Tone"]},{name:"Augmented",intervals:[3,1,3,1,3,1],modes:["Augmented","Inverted Augmented"]}],v=[0,2,4],x=[0,2,4,6],O=[0,2,4,6,8],p=[{names:["A"]},{names:["A#","Bb"]},{names:["B","Cb"]},{names:["C","B#"]},{names:["C#","Db"]},{names:["D"]},{names:["D#","Eb"]},{names:["E","Fb"]},{names:["F","E#"]},{names:["F#","Gb"]},{names:["G"]},{names:["G#","Ab"]}],g=[[1,4,0],[0,5,3,4],[1,4,0],[0,5,1,4],[0,4,5,3],[0,3,5,4],[0,2,3,4],[0,3,0,4],[0,3,1,4]],y=[7,0,5,10,2,7],N=n(10),C=n(11),M=n(12),D=n(13);function k(e){return function(e){for(var t=M,n=0,s=0;s<e.length;s++){var r=t[e[s]];if(!r){n=s;break}t=r}if(0===n)return t.value;var c=D.seventh[e[n]];return t.value+c}(function(e){for(var t=[],n=1;n<e.length;n++){var s=I(e[0],e[n]);t.push(s)}return t}(e))}function I(e,t){return e<t?t-e:t+(12-e)}var S=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(N.a)(this,e),this.root=t,this.family=n,this.offset=s,this.notes=[],this.init()}return Object(C.a)(e,[{key:"init",value:function(){var e=[];e[0]=Number(this.root);for(var t=this.offset;t<this.family.intervals.length;t++)e.push((Number(e[e.length-1])+Number(this.family.intervals[t]))%12);for(var n=0;n<this.offset;n++)e.push((Number(e[e.length-1])+Number(this.family.intervals[n]))%12);this.notes=e}},{key:"getNote",value:function(e){return this.notes[e%(this.notes.length-1)]}},{key:"getChord",value:function(e,t){for(var n=[],s=0;s<t.length;s++){var r=t[s];n.push(this.getNote(r+e))}return{name:p[this.notes[e]].names[0]+k(n),notes:n}}},{key:"getChordsOfType",value:function(e){for(var t=[],n=0;n<this.notes.length-1;n++)t.push(this.getChord(n,e));return t}}]),e}(),A=(n(21),30),w=30,E=10,P=10,T=46,F=25;function L(e){var t=e.notes,n=e.ommits,s=e.tuning,r=void 0===s?y:s,c=function(){for(var e=[],t=1;t<14;t++)e.push(Object(o.jsx)("line",{x1:E+t*T,x2:E+t*T,y1:A,y2:A+125}));for(var n=0;n<6;n++)e.push(Object(o.jsx)("line",{x1:E,x2:E+598,y1:A+n*F,y2:A+n*F}));return e.push(Object(o.jsx)("line",{className:"nut",x1:E,x2:E,y1:A-2,y2:A+125+2})),e.push(Object(o.jsx)("line",{className:"halfnut",x1:E+552,x2:E+552,y1:A-2,y2:A+125+2})),e}(),a=function(){if(!r||!t)return[];for(var e=[],s=0;s<6;s++)for(var c=r[5-s],a=0;a<13;a++){var i=(c+a)%12;t.includes(i)&&!n.includes(t.indexOf(i))&&(0===a?(e.push(Object(o.jsx)("circle",{r:12,cx:E-T/2.8,cy:A+s*F,className:i===t[0]?"rootCircle":"circle"})),e.push(Object(o.jsx)("text",{className:"subtext",x:E-T/2.8,y:A+s*F+3,textAnchor:"middle",children:p[i].names[0]}))):(e.push(Object(o.jsx)("circle",{r:12,cx:E+a*T-23,cy:A+s*F,className:i===t[0]?"rootCircle":"circle"})),e.push(Object(o.jsx)("text",{className:"subtext",x:E+a*T-23,y:A+s*F+3,textAnchor:"middle",children:p[i].names[0]}))))}return e}(),i=function(){var e=[];return[1,3,5,7,9,12].forEach((function(t){e.push(Object(o.jsx)("text",{textAnchor:"middle",x:E+T*t-23,y:A+150+w/10,className:"fretNumber",children:t})),12===t?(e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:A+37.5})),e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:A+87.5}))):e.push(Object(o.jsx)("circle",{r:6,className:"boardDot",cx:E+T*t-23,cy:A+62.5}))})),e}();return Object(o.jsxs)("svg",{viewBox:"0 0 "+(E+598+P)+" "+(A+125+w),children:[Object(o.jsx)("rect",{y:A,x:E,width:598,height:125,class:"background"}),i,c,a]})}var B=n(3),H=n.n(B),J=n(7);function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(n[t]+e)%12}function W(e,t,n){var s=e-n[t];return s>=0?s:12-Math.abs(s)}function R(){return G.apply(this,arguments)}function G(){return(G=Object(J.a)(H.a.mark((function e(){var t,n,s,r,c,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{name:"chord",notes:[]},n=a.length>1&&void 0!==a[1]?a[1]:{allowInversion:!0,maxMutedCount:2,tuning:y,mutedOnSidesOnly:!0},s=q(t.notes,n.tuning),r=K(r=X(s,t,n)),c=[],r.forEach((function(e){for(var s=t.name,r=0,a=0;a<6;a++)if(-1!==e[a]){r=a;break}var i=V(e[r],r,n.tuning);i!==t.notes[0]&&(s+="/"+p[i].names[0]),c.push({name:s,fingering:e})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){var n=[[-1],[-1],[-1],[-1],[-1],[-1]];for(var s in e)if(Object.hasOwnProperty.call(e,s))for(var r=e[s],c=0;c<t.length;c++)n[c].push(W(r,c,t));return n}function X(e,t,n){for(var s=[],r=0;r<9;r++){z(r,0,[-1,-1,-1,-1,-1,-1],e).forEach((function(e){return s.push(e)}))}return s=s.filter((function(e){return function(e,t,n){var s=[],r=0;if(e.forEach((function(e,t){-1!==e?s.push(V(e,t,n.tuning)):r++})),Object(h.a)(t.notes).filter((function(e){return!s.includes(e)})).length>0||r>n.maxMutedCount)return!1;if(!n.allowInversion&&s[0]!==t.notes[0])return!1;if(n.mutedOnSidesOnly)for(var c=[2,3,4],a=0;a<c.length;a++)if(-1===e[c[a]])return!1;return!0}(e,t,n)}))}function z(e,t,n,s){if(t>5)return[n];var r=s[t].filter((function(t){return-1===t||t>=e&&t<e+4})),c=[];return r.forEach((function(r){var a=Object(h.a)(n);a[t]=r,z(e,t+1,a,s).forEach((function(e){c.includes(e)||c.push(e)}))})),c}function K(e){for(var t=[],n={},s=0,r=e.length;s<r;s++){var c=JSON.stringify(e[s]);n[c]||(t.push(e[s]),n[c]=!0)}return t}n(23);var Q=70,U=10,Y=50,Z=50,$=46,_=30,ee={fontWeight:500},te={fontWeight:500},ne={strokeWidth:2},se={strokeWidth:3},re={};function ce(e){var t=e.data,n=e.k,s=t;if(!s||!s.fingering)return"";s.fingering=Object.values(s.fingering);var r=function(){for(var e=[],t=0;t<6;t++){var n=Y+t*_;e.push(Object(o.jsx)("line",{x1:n,x2:n,y1:Q,y2:Q+184,style:ne},"line"+e.length))}return e}(),c=function(){for(var e=[],t=1;t<=4;t++)e.push(Object(o.jsx)("line",{x1:Y,x2:Y+150,y1:Q+t*$,y2:Q+t*$,style:ne},"fret"+e.length));return e}(),a=24,i=-1;s.fingering.forEach((function(e){e<a&&e>0&&(a=e),e>i&&(i=e)}));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];0!==t&&n.push(Object(o.jsx)("text",{style:te,x:Y+171,y:Q+$/1.66,children:t+1},"q"+n.length));for(var s=0;s<6;s++){var r=e.fingering[s];if(r>0)n.push(Object(o.jsx)("circle",{r:12,cx:Y+s*_,cy:Q+(r-t)*$-23,style:re},"q"+n.length));else{var c="";switch(r){case 0:c="o";break;case-1:c="x"}n.push(Object(o.jsx)("text",{width:12,height:14,x:s*_+Y,y:Q-14,textAnchor:"middle",style:ee,children:c}))}}return n}(s,a+(i-a)<4?0:a-1);return Object(o.jsxs)("svg",{className:"chordDiagram",viewBox:"0 0 "+(150+Y+Z)+" "+(184+Q+U),children:[Object(o.jsx)("text",{className:"name",x:(150+Y+Z)/2,y:Q/2,textAnchor:"middle",style:ee,children:s.name}),Object(o.jsx)("line",{x1:Y-5,x2:Y+150+5,y1:Q,y2:Q,style:se}),r,c,u]},n)}function ae(){var e,t,n,r=Object(s.useContext)(oe),c=Object(s.useContext)(l);function a(e){return i.apply(this,arguments)}function i(){return(i=Object(J.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:n=e.sent,console.log(n),c.createPopup(Object(o.jsx)("div",{className:"center",children:n.map((function(e,t){return Object(o.jsx)(ce,{k:"dia"+t,data:e},"d"+t)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"chords tab",children:[Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Triads"}),Object(o.jsx)("div",{className:"chordelements",children:null===(e=r.triads)||void 0===e?void 0:e.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsx)("h4",{className:"scaleDegree "+r.degrees[t],children:b[t]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"3"+t)}))})]},t+"b3")}))})]}),Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Sevenths"}),Object(o.jsx)("div",{className:"chordelements",children:null===(t=r.sevenths)||void 0===t?void 0:t.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsxs)("h4",{className:"scaleDegree "+r.degrees[t],children:[b[t],"7"]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"7"+t)}))})]},t+"b7")}))})]}),Object(o.jsxs)("div",{className:"repeater",children:[Object(o.jsx)("h3",{children:"Ninths"}),Object(o.jsx)("div",{className:"chordelements",children:null===(n=r.ninths)||void 0===n?void 0:n.map((function(e,t){return r.ommits.includes(t)?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)("span",{className:"chord",onClick:function(){return a(e)},children:[Object(o.jsxs)("h4",{className:"scaleDegree "+r.degrees[t],children:[b[t],"9"]}),e.name,Object(o.jsx)("span",{className:"notes",children:e.notes.map((function(e,n){return Object(o.jsx)("span",{className:"note",children:p[e].names[0]},n+"9"+t)}))})]},t+"b9")}))})]})]})}function ie(){var e=Object(s.useContext)(oe);return Object(o.jsxs)("div",{className:"progressions tab",children:[Object(o.jsx)("h1",{children:"Progressions"}),Object(o.jsx)("div",{className:"grid",children:g.map((function(t,n){return Object(o.jsx)("div",{className:"progression",children:t.map((function(t,n){var s;return Object(o.jsxs)("span",{children:[Object(o.jsx)("h2",{children:null===e||void 0===e||null===(s=e.triads[t])||void 0===s?void 0:s.name}),Object(o.jsx)("h3",{className:"scaleDegree "+(null===e||void 0===e?void 0:e.degrees[t]),children:b[t]})]},"c"+n)}))},t+n)}))})]})}var oe=Object(s.createContext)(null);function ue(){var e,t,n=Object(s.useState)(),r=Object(i.a)(n,2),c=r[0],a=r[1],u=Object(s.useState)(f[0]),d=Object(i.a)(u,2),j=d[0],m=d[1],g=Object(s.useState)(0),N=Object(i.a)(g,2),C=N[0],M=N[1],D=Object(s.useState)(0),k=Object(i.a)(D,2),I=k[0],A=k[1],w=Object(s.useState)([]),E=Object(i.a)(w,2),P=E[0],T=E[1],F=Object(s.useState)([]),B=Object(i.a)(F,2),H=B[0],J=B[1],V=Object(s.useState)([]),W=Object(i.a)(V,2),R=W[0],G=W[1],q=Object(s.useState)([]),X=Object(i.a)(q,2),z=X[0],K=X[1],Q=Object(s.useState)(j.chordTypes),U=Object(i.a)(Q,2),Y=U[0],Z=U[1],$=[{name:"Chords",content:Object(o.jsx)(ae,{})},{name:"Progressions",content:Object(o.jsx)(ie,{})}],_=Object(s.useState)($[0].content),ee=Object(i.a)(_,2),te=ee[0],ne=ee[1],se=Object(s.useContext)(l);return Object(s.useEffect)((function(){var e=new S(C,j,I);a(e);for(var t=Object(h.a)(j.chordTypes),n=0;n<I;n++){var s=t.shift();t.push(s)}Z(t)}),[j,C,I]),Object(s.useEffect)((function(){c&&(J(c.getChordsOfType(v)),G(c.getChordsOfType(x)),K(c.getChordsOfType(O)))}),[c]),Object(o.jsxs)("div",{className:"page",children:[se.popup,Object(o.jsxs)("div",{className:"explorer",children:[Object(o.jsxs)("div",{className:"input",children:[Object(o.jsxs)("label",{children:["Root: ",Object(o.jsx)("br",{}),Object(o.jsx)("select",{defaultValue:0,onChange:function(e){return M(e.target.value)},children:p.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e.names[0]},t+"n")}))})]}),Object(o.jsxs)("label",{children:["Mode:",Object(o.jsx)("br",{}),Object(o.jsx)("select",{defaultValue:0,onChange:function(e){return A(e.target.value)},children:null===j||void 0===j||null===(e=j.modes)||void 0===e?void 0:e.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e},t+"m")}))})]})]}),Object(o.jsx)("div",{className:"scaleNotes",children:null===c||void 0===c||null===(t=c.notes)||void 0===t?void 0:t.map((function(e,t){return Object(o.jsxs)("span",{className:P.includes(t)?"ommit":"",onClick:function(){return function(e){var t=Object(h.a)(P),n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1),T(t)}(t)},children:[p[e].names[0],Object(o.jsx)("h3",{className:"scaleDegree "+Y[t],children:b[t%(c.notes.length-1)]})]},"ommit"+t)}))}),Object(o.jsx)("div",{className:"scaleDiagram",children:c&&Object(o.jsx)(L,{tuning:y,ommits:P,notes:c.notes})}),Object(o.jsx)("div",{className:"tabselect",children:$.map((function(e,t){return Object(o.jsx)("button",{onClick:function(){ne($[t].content)},children:e.name})}))}),Object(o.jsx)("div",{className:"tabs",children:Object(o.jsx)(oe.Provider,{value:{scale:c,setScale:a,family:j,setFamily:m,root:C,setRoot:M,mode:I,setMode:A,ommits:P,setOmmits:T,triads:H,setTriads:J,sevenths:R,setSevenths:G,ninths:z,setNinths:K,degrees:Y,setDegrees:Z},children:te})})]})]})}n(24),n(25),n(26);var le=function(){return Object(o.jsx)(d,{children:Object(o.jsx)(ue,{})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(le,{})}),document.getElementById("root")),de()}],[[27,1,2]]]);
//# sourceMappingURL=main.fefa6bdf.chunk.js.map